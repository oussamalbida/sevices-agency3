(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7848],{69358:function(e,t,i){"use strict";i.d(t,{Z:function(){return y}});var o=i(85893),l=i(93967),a=i.n(l),n=i(67294),r=i(59538),s=i(48928),d=i(26517),c=i(46536),p=i(36680),u=i(89694),v=i(9422),h=i(67305),m=i(68447),g=i(13962),b=i(93104),f=i(47533),x=i(74480);let w=(0,n.memo)(e=>{let{inSidebar:t,onSaveClick:i,isSavePopupOpen:l,saveStatus:r,onDotsMenuClick:s,onDeleteFromProjectClick:c,showDeleteFromProject:p,isMenuPopupOpen:u,showSave:v}=e,[h,m]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{m(!0)},[]),h)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(b.Z,{className:"overlay-buttons top left",children:(0,o.jsx)(f.Z,{$height:"18px",$padding:"2px 6px",$hoverColor:"purple",$hoverTextColor:"white",className:a()({active:u}),onClick:s.bind(null,!1),children:(0,o.jsx)(d.Pp,{$margin:"0",$fontSize:"12px"})})}),(0,o.jsx)(b.Z,{className:"overlay-buttons top left mobile-only",children:(0,o.jsx)(f.Z,{$height:"24px",$padding:"2px 10px",$hoverColor:"purple",$hoverTextColor:"white",className:a()({active:u}),onClick:s.bind(null,!0),children:(0,o.jsx)(d.Pp,{$margin:"0",$fontSize:"16px"})})}),!t&&(0,o.jsxs)(b.Z,{className:"overlay-buttons bottom left",children:[v&&(0,o.jsx)(x.Z,{className:"save",$width:"52px",$hoverColor:"purple",$hoverTextColor:"white",active:l,status:r,onClick:i}),p&&(0,o.jsx)(f.Z,{onClick:c,children:(0,o.jsx)(g.c,{i18nKey:"designteaser-001",children:"Remove"})})]})]}):null});w.displayName="DesignTeaserOverlay";var y=e=>{var t,i,l,g;let{entity:b,project:f,onClick:x,onItemClick:y,inSidebar:C,onSaveClick:j,onDotsMenuClick:k,onDeleteFromProjectClick:Z,showDeleteFromProject:_,isMenuPopupOpen:$,isSavePopupOpen:I,saveStatus:S,showSave:N,showWatermarkStatus:P=!1,readOnly:T=!1,hideOverlay:O=!1}=e,{name:D,alias:E,deleted:F}=b,R=!!f,M=!C&&!R&&!!D,[z,G]=(0,r.pF)(b.width,b.height,b.units),L=(0,n.useRef)(null),{src:A}=(0,h.Z)(null===(i=b.images)||void 0===i?void 0:null===(t=i.cover)||void 0===t?void 0:t.style_uri,null===(l=b.images)||void 0===l?void 0:l.cover,L),U=(0,n.useCallback)(e=>{j(e,b,C?{showInfo:!0,showArrow:!1,placement:"bottom-start"}:{},f)},[b,j,C,f]),q=(0,n.useCallback)((e,t)=>{k(t,b,f,{enableSaving:!F&&(e||C),inSidebar:C})},[b,k,f,C,F]),H=(0,n.useCallback)(e=>{Z(e,b,"project")},[Z,b]),W=(0,n.useCallback)(e=>{C&&y&&y({item:b,type:v.ItemTypes.DESIGN},e),x&&x(b,A,e)},[x,b,A,C,y]),B=!T&&!F,K=(0,n.useMemo)(()=>({paddingBottom:"".concat(G/z*100,"%"),opacity:(null==b?void 0:b.is_new)?.7:1}),[z,G,null==b?void 0:b.is_new]);return(0,o.jsxs)(s.Z,{ref:L,$rounded:!C,$hasCaption:M,"data-testid":!C&&(null==b?void 0:b.id)?"".concat(v.ItemTypes.DESIGN,"-").concat(b.id):void 0,children:[(0,o.jsxs)("div",{className:a()("image-wrapper design-image-wrapper",{"is-popup-active":I||$}),style:K,itemScope:!0,itemType:"https://schema.org/ImageObject",typeof:"ImageObject",children:[(0,o.jsx)(p.Z,{condition:!b.is_new&&B,onClick:B?W:void 0,to:B?"".concat(E).concat(C?"":"?path=home.tab-my_designs"):void 0,target:B&&!C?"_blank":null,children:(0,o.jsx)(c.Z,{alt:D,width:z,height:G,srcSet:A||void 0,src:A||void 0,className:"teaser-image drag-preview",draggable:C&&!F?void 0:"false"})}),!T&&!O&&(0,o.jsx)(w,{inSidebar:C,onDotsMenuClick:q,isMenuPopupOpen:$,onSaveClick:U,isSavePopupOpen:I,saveStatus:S,onDeleteFromProjectClick:H,showDeleteFromProject:_,showSave:N}),P&&(null===(g=b.designInfos)||void 0===g?void 0:g.has_watermark)&&(0,o.jsx)(d.zM,{$color:"equator",$fontSize:"18px",className:"watermarked-status"})]}),M&&(0,o.jsx)(p.Z,{className:"image-caption design-caption",condition:!(null==b?void 0:b.is_new)&&B,onClick:B?W:void 0,to:B?"".concat(E).concat(C?"":"?path=home.tab-my_designs"):void 0,target:B&&!C?"_blank":null,children:(0,o.jsx)(u.Z,{$fontSize:"16px",children:(0,o.jsx)(m.Z,{user:!0,children:D})})})]})}},48928:function(e,t,i){"use strict";var o=i(88095),l=i(76219),a=i(91648),n=i(51331),r=i(77977),s=i(36377),d=i(400);let c=o.ZP.div.withConfig({componentId:"sc-ab708f4c-0"})(["display:block;width:100%;height:100%;position:relative;"," @media (hover:hover) and (pointer:fine){&:hover{.overlay-buttons{opacity:1;}}}.link-wrapper{position:absolute;top:0;right:0;left:0;bottom:0;img{display:block;width:100%;height:100%;}.save-layer{position:absolute;inset:0;}}.similar-image{margin-left:auto;}.image-caption{display:block;text-align:center;margin-top:5px;span{display:block;}&.design-caption,&.magic-font-caption{overflow:hidden;text-overflow:ellipsis;word-break:break-word;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;}}.watermarked-status{position:absolute;left:10px;top:10px;}.image-wrapper{position:relative;background:",";"," &.design-image-wrapper{box-shadow:0 0 3px 0 rgb(0 0 0 / 20%);","}img{image-orientation:none;}}&.shadow{.image-wrapper{box-shadow:6px 6px 6px rgba(75,75,76,0.2);}","{padding:","px;}.mobile-buttons{margin-top:16px;}}.boost-pinterest-button{margin:8px 8px 8px auto;display:none;","{display:block;}}.author-avatar{.empty-avatar{",";}}"],(0,l.fq)({$rounded:!0,$hasCaption:!1},(0,o.iv)(["border-radius:8px;"])),(0,l.rS)("palette.imageTeaser.placeholder"),(0,l.fq)(["$rounded","$hasCaption"],(0,o.iv)(["border-radius:8px;overflow:hidden;"])),(0,l.fq)("$rounded",(0,o.iv)(["border-radius:8px;overflow:hidden;"])),a.ai,s.R,a.ai,(0,n.Z)(d.ZP.SvgProfileCircle,r.Z.white));t.Z=c},32673:function(e,t,i){"use strict";var o=i(88095),l=i(76219),a=i(11731),n=i(77977),r=i(48928);let s=(0,o.ZP)(r.Z).withConfig({componentId:"sc-bfee5561-0"})([".link-wrapper{width:100%;height:100%;display:flex;background:",";border:none;cursor:pointer;padding:0;.hover-image{position:absolute;opacity:0;top:0;left:0;right:0;bottom:0;}.save-layer{position:absolute;inset:0;}}@media (hover:hover) and (pointer:fine){&.has-hover:hover{.hover-image{opacity:1;}.teaser-image{opacity:0;}&.hover-pending{.hover-image{opacity:0;}.teaser-image{opacity:0.9;}}}}h5{margin-top:4px;text-align:center;",";color:",";font-size:14px;line-height:1.14;}&.magic-fonts{h5{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}}.image-wrapper{"," .overlay-buttons.full{background:rgba(0,0,0,0.07);}}"],n.Z.transparent,a.Z.regular,(0,l.rS)("palette.sidebar.templateTeaser.description"),(0,l.fq)("$rounded",(0,o.iv)(["border-radius:8px;overflow:hidden;"])));t.Z=s},129:function(e,t,i){"use strict";var o=i(88095),l=i(43835),a=i(46536);let n=(0,o.ZP)(a.Z).attrs(e=>{let{trimWidth:t,trimHeight:i,trimX:o,trimY:a,originalWidth:n,originalHeight:r}=e,s=(0,l.w2)(t,0),d=(0,l.w2)(i,0);if(s&&d){let e=(0,l.w2)(n,s),t=(0,l.w2)(r,d);Number.isInteger(o)||(o=(e-s)/2),Number.isInteger(a)||(a=(t-d)/2);let i={},c=o/e*100,p=a/t*100;return i.position="relative",i.width="calc(".concat(s/e*100,"%)"),i.height="calc(".concat(d/t*100,"%)"),i.top="".concat(p,"%"),i.left="".concat(c,"%"),{style:i}}return{}}).withConfig({componentId:"sc-58ef4a25-0"})([""]);t.Z=n},77237:function(e,t,i){"use strict";i.d(t,{Z:function(){return w}});var o=i(85893),l=i(93967),a=i.n(l),n=i(67294),r=i(9422),s=i(48928),d=i(46536),c=i(36680),p=i(67305),u=i(26517),v=i(93104),h=i(47533),m=i(74480),g=i(13962);let b=(0,n.memo)(e=>{let{inSidebar:t,onSaveClick:i,isSavePopupOpen:l,saveStatus:r,onDotsMenuClick:s,onDeleteFromProjectClick:d,showDeleteFromProject:c,isMenuPopupOpen:p,showSave:b}=e,[f,x]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{x(!0)},[]),f)?(0,o.jsxs)(o.Fragment,{children:[s&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(v.Z,{className:"overlay-buttons top left",children:(0,o.jsx)(h.Z,{$height:"18px",$padding:"2px 6px",$hoverColor:"purple",$hoverTextColor:"white",className:a()({active:p}),onClick:s.bind(null,!1),children:(0,o.jsx)(u.Pp,{$margin:"0",$fontSize:"12px"})})}),(0,o.jsx)(v.Z,{className:"overlay-buttons top left mobile-only",children:(0,o.jsx)(h.Z,{$height:"24px",$padding:"2px 10px",$hoverColor:"purple",$hoverTextColor:"white",className:a()({active:p}),onClick:s.bind(null,!0),children:(0,o.jsx)(u.Pp,{$margin:"0",$fontSize:"16px"})})})]}),!t&&(0,o.jsxs)(v.Z,{className:"overlay-buttons bottom left",children:[b&&(0,o.jsx)(m.Z,{className:"save",$width:"52px",$hoverColor:"purple",$hoverTextColor:"white",active:l,status:r,onClick:i}),c&&(0,o.jsx)(h.Z,{onClick:d,children:(0,o.jsx)(g.c,{i18nKey:"uploadteaser-001",children:"Remove"})})]})]}):null});b.displayName="UploadTeaserOverlay";let f={useTransparentPng:!0},x={opacity:.3};var w=e=>{var t,i,l;let{entity:u,project:v,onItemClick:h,onSaveClick:m,saveStatus:g,isSavePopupOpen:w,inSidebar:y,onDotsMenuClick:C,onDeleteFromProjectClick:j,showDeleteFromProject:k,isMenuPopupOpen:Z,showSave:_}=e,{id:$,uid:I,name:S,width:N,height:P,style_uri:T,filename:O,deleted:D}=u,E=(0,n.useRef)(null),F=(null==O?void 0:O.length)?null===(t=O.split(".").pop())||void 0===t?void 0:t.toLowerCase():"png",{src:R}=(0,p.Z)(T,u,E,"style_uri",f),M=(0,n.useCallback)(e=>{m(e,u,y?{showInfo:!0,showArrow:!1,placement:"bottom-start"}:null)},[u,m,y]),z=(0,n.useCallback)(e=>{h&&h({item:u,type:r.ItemTypes.UPLOAD},e)},[u,h]),G=(0,n.useCallback)((e,t)=>{C(t,u,v,{enableSaving:!D&&(e||y),inSidebar:y})},[C,u,v,y,D]),L=(0,n.useCallback)(e=>{j(e,u,"project")},[j,u]),A=(0,n.useMemo)(()=>({paddingBottom:"".concat(P/N*100,"%")}),[P,N]),U=!!(null==u?void 0:null===(i=u.imgPlaceholder)||void 0===i?void 0:i.src)&&!T;return(0,o.jsx)(s.Z,{ref:E,className:a()("upload-teaser",{png:"png"===F}),"data-testid":!y&&(null==u?void 0:u.id)?"".concat(r.ItemTypes.UPLOAD,"-").concat(u.id):void 0,children:(0,o.jsxs)("div",{className:a()("image-wrapper",{"is-popup-active":w||Z}),style:A,itemScope:!0,itemType:"https://schema.org/ImageObject",typeof:"ImageObject",children:[(0,o.jsxs)(c.Z,{condition:!D&&!U,onClick:y&&!D&&h&&!U?z:void 0,to:D||y||U?void 0:"/uploads/".concat(I,"/").concat($),children:[!!T&&(0,o.jsx)(d.Z,{crossOrigin:"anonymous",alt:S,width:N,height:P,srcSet:R||void 0,src:R||void 0,className:"teaser-image drag-preview"}),!!U&&(0,o.jsx)("img",{alt:"",crossOrigin:"anonymous",src:null==u?void 0:null===(l=u.imgPlaceholder)||void 0===l?void 0:l.src,width:N,height:P,className:"teaser-image drag-preview",onLoad:()=>{var e;URL.revokeObjectURL(null==u?void 0:null===(e=u.imgPlaceholder)||void 0===e?void 0:e.src)},style:x})]}),!U&&(0,o.jsx)(b,{onSaveClick:M,isSavePopupOpen:w,inSidebar:y,saveStatus:g,onDotsMenuClick:G,onDeleteFromProjectClick:L,isMenuPopupOpen:Z,showDeleteFromProject:k,showSave:_})]})})}},18485:function(e,t,i){"use strict";var o=i(88095),l=i(47533);t.Z=(0,o.ZP)(l.Z).attrs({as:"div"}).withConfig({componentId:"sc-1f74d09c-0"})(["cursor:default;"])},9422:function(e,t,i){"use strict";i.d(t,{ItemTypes:function(){return o}});let o=Object.freeze({IMAGE:"image",UPLOAD:"upload",DESIGN:"design"})},7413:function(e,t,i){"use strict";i.d(t,{Y:function(){return p},b:function(){return c}});var o=i(85893),l=i(51068),a=i(67294),n=i(18357),r=i(88095);let s=a.createContext(null),d=r.ZP.div.withConfig({componentId:"sc-9b3e4ce4-0"})(["overflow-y:scroll;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),c=e=>{let{children:t,forwardRef:i,className:l}=e,n=a.useRef(null),r=a.useRef(null),c=a.useCallback(e=>{i&&(i.current=e),n.current=e,r.current={root:e}},[i]);return(0,o.jsx)(s.Provider,{value:r.current,children:(0,o.jsx)(d,{ref:c,className:l,translate:"no",children:t})})},p=e=>{let t=(0,a.useContext)(s);if(e.root)throw Error("Cannot set options.root with useInViewWithScrollProvider, use useInView directly");let i=a.useMemo(()=>t?t.root?{...e,root:t.root}:{...e,skip:!0}:e,[t,e]),o=(0,l.N)(()=>i,[i]);return(0,n.YD)(o)}},61611:function(){},97037:function(e,t,i){"use strict";i.d(t,{_:function(){return d}});var o=i(27033),l=i(41205),a=i(87699),n=i(99371),r=i(7229);let s=(e,t)=>{var i,o,l,a,n,r,s,d,c,p,u,v,h,m,g,b,f;t&&(null===(i=t.design_id)||void 0===i||!i.length||null===(o=t.metadata)||void 0===o||!o.templateIsRemix)&&("template"!==t.type&&(null===(l=t.design_id)||void 0===l?void 0:l.length)&&(null===(a=t.metadata)||void 0===a?void 0:a.templateHasSetGroup)?e.set((null===(g=t.metadata)||void 0===g?void 0:g.templateId)||t.id,"set"):(null===(n=t.design_id)||void 0===n?void 0:n.length)&&"number"==typeof(null===(r=t.metadata)||void 0===r?void 0:r.design_page_count)&&(null==t?void 0:null===(s=t.metadata)||void 0===s?void 0:s.design_page_count)>1?e.set((null===(b=t.metadata)||void 0===b?void 0:b.templateId)||t.id,"pages"):(!(null===(d=t.design_id)||void 0===d?void 0:d.length)||"template"===t.type)&&(null==t?void 0:null===(c=t.metadata)||void 0===c?void 0:c.topicSetIds)&&(null==t?void 0:null===(p=t.metadata)||void 0===p?void 0:p.topicSetIds.length)>0?e.set(null==t?void 0:null===(f=t.metadata)||void 0===f?void 0:f.topicSetIds[0],"topic_set"):(!(null===(u=t.design_id)||void 0===u?void 0:u.length)||"template"===t.type)&&(null==t?void 0:null===(m=t.metadata)||void 0===m?void 0:null===(h=m.groups)||void 0===h?void 0:null===(v=h.includes)||void 0===v?void 0:v.call(h,"set_tags"))&&e.set(t.id,"set"))},d=function(e){let t,{activeSearchTopic:i,activeSearchQueries:d,action:c,widgetId:p,edit:u=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("image"===e.entity_type){var v,h,m,g,b,f,x,w,y,C,j,k,Z,_;let $=null==e?void 0:null===(v=e.metadata)||void 0===v?void 0:v.sidebarDefault;if(p)(t=new r.Z).push(p);else if((null==i?void 0:i.id)&&(null==e?void 0:null===(g=e.metadata)||void 0===g?void 0:null===(m=g.sidebarDefault)||void 0===m?void 0:null===(h=m.group)||void 0===h?void 0:h.id)!==a.MAGIC_FONTS_TOPIC_GROUP_ID){let e=[];if(null==d?void 0:d.path){let t=new r.Z(d.path).pathParts.filter(e=>"group"===e.type&&e.id!==i.id).map(e=>e.id);t.length>0&&e.push(...t)}t=r.Z.createPathFromTopicEntity(i,void 0,e)}else(null==$?void 0:null===(b=$.group)||void 0===b?void 0:b.id)?((t=new r.Z).push($.group.id),(null===(x=$.group.sub)||void 0===x?void 0:x.id)&&($.group.sub.masterFilter&&(null===(y=$.topic)||void 0===y?void 0:y.id)?t.pushFilter($.group.sub.masterFilter,"master"):t.push($.group.sub.id)),(null==$?void 0:null===(w=$.topic)||void 0===w?void 0:w.id)&&(t.push($.topic.id,(null===(C=$.topic)||void 0===C?void 0:C.subTopic)||(null===(j=$.group.sub)||void 0===j?void 0:j.masterFilter)?"sub_topic":"topic"),(null===(k=$.topic.masterFilter)||void 0===k?void 0:k.length)&&t.pushFilter($.topic.masterFilter,"master"))):(t=new r.Z).push((null==e?void 0:null===(Z=e.design_id)||void 0===Z?void 0:Z.length)?a.CREATE_ELEMENT_DESIGNS_ID:a.ELEMENTS_TOPIC_GROUP_ID);if(p||s(t,e),(null==c?void 0:c.length)&&l.do.includes(c)&&t.pushFilter(c,"action"),null===(f=e.design_id)||void 0===f?void 0:f.length)return"/create/design/".concat(e.design_id,"?").concat(o({path:t.stringify(),tid:(null==e?void 0:null===(_=e.metadata)||void 0===_?void 0:_.templateId)||e.id,edit:u?1:void 0},n.j1))}return"upload"===e.entity_type?"/create/design?".concat(o({upload:e.id,path:"home.uploads"},n.j1)):"/create/design?".concat(o({imageId:e.id,path:null==t?void 0:t.stringify()},n.j1))}}}]);